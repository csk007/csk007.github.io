<!DOCTYPE html>
<head>
  <base target="self">
  <meta charset="UTF-8"> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/litera/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link id="bsdp-css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" rel="stylesheet">
    <link href="https://jdewit.github.io/bootstrap-timepicker/css/timepicker.less"  rel="stylesheet">
    <link href="https://lonekorean.github.io/highlight-within-textarea/jquery.highlight-within-textarea.css"   rel="stylesheet">
    <!--<link href="https://www.jqueryscript.net/demo/emoji-picker-twemoji/css/emojis.css"  rel="stylesheet">-->
    <style>
    .card-img-top{
      max-height:350px;
    }

    .highlight-text{
      color: rgb(20,162,184);
    }

    .highlight-text-cap{
      color: blue;
      text-transform: uppercase;
    }

    a, u {
       text-decoration: none;
    }

    .disable-card {
      background-color: rgba(245, 245, 245, 1);
      opacity: .4;
    }

    .disable-card-60 {
      background-color: rgba(245, 245, 245, 1);
      opacity: .6;
    }

    </style>
    <title>Wednesday T Shirt Info | Kumarans DKS</title>

</head>
<body style="font-weight:600">
<!--<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">

    <a class="navbar-brand" href="#"><img src="https://www.learngeeta.com/wp-content/uploads/2020/07/Logo-Gita-Parivar.png" width="30" height="30" class="d-inline-block align-top" alt="">&nbsp;&nbsp;Praveg Sandesh - AutoMagic Message Creator</a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
      </ul>
    </div>
  </div>
</nav>
<br/>-->
<div class="container-fluid">
    <br/>
    <div class="row">
    <div class="col-12">
          <div class="card">
            <div class="card-header" >
              Kumarans | DKS | T Shirt Info: <span id="refresh-timer" class="pull-right"></span>
            </div>
            <div class="card-body">
              <div class="container mx-0 px-0">
                <div class="row wednesdays-info-grid">
                  <!--<div class="wednesdays-info-grid"></div>-->
                </div>
              </div>
            </div>
          </div>
    </div>
    </div><br/><br/>
    <div class="row">
      <!--<div class="alert alert-dismissible alert-success">
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        <span class="alert-text"><strong>üôèüèª Namaste üôèüèª</strong> Welcome To Kumarans Wednesday T-Shirt Info BY CSK</b> üôÇ Have a Nice Day.</span>
      </div>-->
      <div class="col-12">
          <div class="card">
            <div class="card-header">
              Wednesdays Of The Month
            </div>
            <div class="card-body">
              <div class="container">
                <div class="row">
                  <div class="wednesdays-grid"></div>
                </div>
              </div>
            </div>

          </div>
      
      </div>
  </div>
  <br>
 
 <div class="row">
      <div class="col-12">
          <div class="card">
            <div class="card-header">
              Tips:
            </div>
            <div class="card-body">
              <div class="container">
                <div class="row">
                  <div class="wednesdays-dev-info-grid">
                    Please make sure your device time is correctly updated and is in sync with the world to display the correct information :)
                  </div>
                </div>
              </div>
            </div>

          </div>
      
      </div>
  </div>
<br/>

  <div class="row">
      <div class="col-12">
          <div class="card disable-card-60">
            <div class="card-header">
              Feedback / Suggestions:
            </div>
            <div class="card-body">
              <div class="container">
                <div class="row">
                  <div class="wednesdays-dev-info-grid">
                    <a href="https://wa.me/+919886138881?text=Hi, Regarding the Wednesday T shirt Portal"><i class="fa fa-whatsapp" aria-hidden="true"></i> Chandrashekar SK (Ansh - 2C) </a>    <br/><br/><a href="mailto:csk007@gmail.com?subject=Kumarans Wednesday Tshirt Info Portal&body=Hey Hi,"><i class="fa fa-envelope-o" aria-hidden="true"></i> csk007@gmail.com</a> 
                  </div>
                </div>
              </div>
            </div>

          </div>
      
      </div>
  </div>
  <br/>

    <br/>


</div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script type="text/javascript" src="https://jdewit.github.io/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
    <!--<script type="text/javascript" src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>-->
    <!--<script type="text/javascript" src="https://www.jqueryscript.net/demo/emoji-picker-twemoji/js/DisMojiPicker.js"></script>-->
    <script type="text/javascript" src="https://lonekorean.github.io/highlight-within-textarea/jquery.highlight-within-textarea.js"></script>
    
    <script>

const ordinal = ['First', 'Second', 'Third', 'Fourth', 'Fifth'];
const ordinal_short = ['1st', '2nd', '3rd', '4th', '5th'];
const tshirt = ['House', 'White', 'House', 'White', 'House'];

const house_img = 'https://5.imimg.com/data5/SELLER/Default/2023/4/300100634/AT/DI/XH/90786645/ganga-house-t-shirt-500x500.png';
const white_img = 'https://cdn.storehippo.com/s/5997cc7c4d6e8ffa20e50aae/ms.products/5aa0f01491c2e5ab32f33874/images/5aa0f01491c2e5ab32f33875/5aa0f02091c2e5ab32f338b4/5aa0f02091c2e5ab32f338b4-640x640.jpg';

var options = {weekday: 'long',year: 'numeric', month: 'short', day: 'numeric' };

var options2 = {weekday: 'long', year: 'numeric', month: 'short', day: 'numeric' };

var wednesdays = [];

var nextWedIndex = -1;
var nextWedOrd = -1;
var nextWedTshirt = '';
var nextWedTshirtImg = '';

var outText = "";
var outTextShort = "";

var today = new Date().toLocaleDateString("en-IN", options2);

var nextWed = getNextWednesday();

console.log('nextWed: ',nextWed);

var daysLeft = datediff(new Date(today),new Date(nextWed));

console.log('daysLeft: ', daysLeft);


var daysLeftStr ='';

if (daysLeft == 0){
  daysLeftStr = 'Today';
} else if (daysLeft == 1){
    daysLeftStr = 'Tomorrow';
} else if (daysLeft == 2){
    daysLeftStr = 'Day After Tomorrow';
} else {
    daysLeftStr = daysLeft+' Days';
}


var nextWedStr = nextWed.toLocaleDateString("en-IN", options)

console.log('nextWedStr: ',nextWedStr);

var wednesdays = getWednesdaysOfMonth();

console.log('wednesdays: ',wednesdays);

console.log('nextWedIndex: ',nextWedIndex);

nextWedOrd = ordinal_short[nextWedIndex] + '';

console.log('nextWedOrd: ', nextWedOrd);

nextWedTshirt = tshirt[nextWedIndex] + ' T Shirt';

console.log('nextWedTshirt: ', nextWedTshirt);

if (nextWedIndex ==0 || nextWedIndex == 2 || nextWedIndex == 4){
  nextWedTshirtImg = house_img;
} else {
  nextWedTshirtImg = white_img;
}

renderWednesdaysGridInfo();


function getNextWednesday(){
  var d = new Date();
  while (d.getDay() !== 3) {
      d.setDate(d.getDate() + 1);
  }
  console.log("Next Wednesday: ",new Date(d.getTime()));
  return d;
}

function getWednesdaysOfMonth() {
    console.log('nextWed ',nextWed);
    var d = new Date(nextWed);//new Date();
    month = d.getMonth();
    console.log('next wed month 0-11: ',month);
    d.setDate(1);
    //console.log('d ',d);
    // Get the first Wednesday in the month
    while (d.getDay() !== 3) {
        d.setDate(d.getDate() + 1);
    }
    // Get all the other Wednesdays in the month
    //wed = d;
    while (d.getMonth() === month) {
        wed = new Date(d.getTime());
        wednesdays.push(wed);
        //console.log('wed ',wed.getDate());
        //console.log('nextWed ',nextWed.getDate());        
        if (wed.getDate() == nextWed.getDate()){
          nextWedIndex = wednesdays.length-1;
          //console.log('-----------nextWedIndex ',nextWedIndex);
        }
        d.setDate(d.getDate() + 7);
    }
  return wednesdays;
}

function renderWednesdaysGridInfo(){
      //console.log("renderWednesdaysGridInfo: ",window.wednesdays);
      var htmlStr ='<div class="col-8 col-md-8 col-sm-8">Today: <br/><span class="highlight-text">' +today+
      '</span><hr/>Upcoming Wed ('+daysLeftStr+'): <br/><span class="highlight-text">'+nextWedStr + 
      '</span><hr/>Wednesday Of The Month: <br/><span class="highlight-text">' +nextWedOrd+
      '</span><hr/>T Shirt: <br/><span class="highlight-text-cap">'+nextWedTshirt+
      '</span></div><div class="col-4 col-md-4 col-sm-4"><br/><img class="img-fluid card-img-top img-responsiveDIS" style="margin: 0 auto;" alt="'+nextWedTshirt+
      '" src="'+nextWedTshirtImg+'"></div>';

      $(".wednesdays-info-grid").empty();
      $(".wednesdays-info-grid").append(htmlStr);

      htmlStr ='';
      for(var i=0; i<wednesdays.length; i++){
        if (i == nextWedIndex){
          htmlStr = htmlStr + '<div class = "col-12"><div class="card border-info"><div class="card-header text-info">'+nextWedOrd+' - '+wednesdays[i].toLocaleDateString("en-IN", options)+'</div><!--<img class="card-img-top" alt="'+nextWedTshirt+'" src="'+nextWedTshirtImg+'">--><div class="card-body text-info"><p class="card-text"><span class="highlight-text-cap3">'+nextWedTshirt+'</span></p></div></div></div><br/>';
        } else {
          htmlStr = htmlStr + '<div class = "col-12"><div class="card disable-card"><div class="card-header">'+ordinal_short[i]+' - '+wednesdays[i].toLocaleDateString("en-IN", options)+'</div><div class="card-body"><p class="card-text">'+tshirt[i]+' T Shirt</p></div></div></div><br/>';
        }
      };
      $(".wednesdays-grid").empty();
      $(".wednesdays-grid").append(htmlStr);
}

function datediff(first, second) {        
    return Math.floor(Math.abs(second - first) / (1000 * 60 * 60 * 24));
}
    
</script>

</body>

</html>
    
